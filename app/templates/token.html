{% extends 'base.html' %}
{% block head_extra %}
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "Product",
  "name": "{{ symbol }} Token",
  "url": "{{ canonical_url }}",
  "image": "{{ abs_url(social_image or DEFAULT_SOCIAL_IMAGE) }}",
  "brand": { "@type": "Brand", "name": "Token Arena" },
  "description": "{{ description or DEFAULT_DESCRIPTION }}"
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {"@type": "ListItem", "position": 1, "name": "Home", "item": "{{ SITE_URL }}"},
    {"@type": "ListItem", "position": 2, "name": "Tokens", "item": "{{ SITE_URL }}/tokens"},
    {"@type": "ListItem", "position": 3, "name": "{{ symbol }}", "item": "{{ canonical_url }}"}
  ]
}
</script>
{% endblock %}
{% block content %}
<div id="token-page" data-symbol="{{ symbol }}">
  <section class="hero" style="text-align:left">
    <h1 style="margin:0"><span id="tok-symbol">{{ symbol }}</span> <span class="muted" id="tok-name"></span></h1>
    <div class="muted" style="font-size:13px">Live metrics updated daily</div>
  </section>

  <section class="stats-grid">
    <div class="stat-card">
      <div class="stat-label">Price</div>
      <div class="stat-value" id="tok-price">—</div>
    </div>
    <div class="stat-card">
      <div class="stat-label">Market Cap</div>
      <div class="stat-value" id="tok-mcap">—</div>
    </div>
    <div class="stat-card">
      <div class="stat-label">Holders</div>
      <div class="stat-value" id="tok-holders">—</div>
    </div>
    <div class="stat-card">
      <div class="stat-label">24h</div>
      <div class="stat-value" id="tok-change">—</div>
    </div>
  </section>

  <section class="charts">
    <h2 class="section-title">Token Charts</h2>
    <div class="segmented" id="token-range" style="margin: 6px 0 12px;">
      <div class="btn" data-range="7d">7D</div>
      <div class="btn active" data-range="30d">30D</div>
      <div class="btn" data-range="90d">90D</div>
      <div class="btn" data-range="all">All</div>
    </div>
    <div class="charts-grid">
      <div class="chart-card">
        <h3>Price (USD)</h3>
        <canvas id="priceChart"></canvas>
      </div>
      <div class="chart-card">
        <h3>Holders</h3>
        <canvas id="holdersChart"></canvas>
      </div>
    </div>
  </section>

  <section class="battles">
    <h2 class="section-title">Top Holders</h2>
    <div class="table-wrapper">
      <table class="tokens-table" aria-label="Top holders">
        <thead>
          <tr>
            <th scope="col">Rank</th>
            <th scope="col">User</th>
            <th scope="col">Quantity</th>
            <th scope="col">Value (USD)</th>
          </tr>
        </thead>
        <tbody id="top-holders"></tbody>
      </table>
    </div>
  </section>
</div>
{% endblock %}

{% block scripts %}
<script defer src="{{ url_for('static', filename='js/token.js') }}?v={{ STATIC_VERSION }}"></script>
{% endblock %}
